<!DOCTYPE html>
<html>
<head>
    <title>Hello Campus!</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <style>
        #map { height: 500px; width: 1200px; }
        html, body { height: 100%; margin: 0; padding: 0; }
        #buttons { padding:10px; background: #f3d1c9; }
	#font-family { calibri }
    </style>
    
    <script src="nhSenate2020.geojson"></script>
    
</head>
<body>              
    <h1>Breakdown: The 2020 U.S. Senate Election in New Hampshire</h1>
	<h2>Why Should I Care?</h2>
	<ol>
		<li>Local Elections Matter! While the race for the Presidency gets most of the focus in terms of media attention, local and state-level positions can make fundamental impacts on peoples lives.</li>
		<li>New Hampshire particularly has incredibly close elections. In 2016, the Senate race was determined by 1,016 votes, and the election was partially the reason why Obamacare wasn't repealed.</li>
		<li>As a Dartmouth Student, you have the right to vote in New Hampshire! Knowing more context about your current representation is always helpful, whether you want to apply for an internship or reach out on a specific issue. </li>
	</ol>
	Also, I am partially biased towards this race because I worked on the campaign for Shaheen! Here's a photo from when she visited my hometown during the heat of the campaign. 
	<div><img src="Shaheen.jpg" style="width: 30%; height: 200px"></div> 
	<h2>The Race</h2>
	<div><img src="MessnerShaheenside.png" style="width: 30%; height: 200px"></div> 
	Photo of Shaheen and Messner, Obtained from WMUR.
	<h3>Jeanne Shaheen</h3>
	Shaheen Bio
		Would be interesting to try and do a timeline like Nagine did, would need to know the coding of that
	<h3>Corky Messner</h3>
	The Bio
	<h2>The Results</h2>
    <div id="map"></div>
	Data Obtained by the New Hampshire Secretary of State's Office, and NH GRANIT.
	
	In Depth analysis, how it compares to previous elections. Insert photo of trends of New Hampshire?
	<h2>Key Takeaways</h2>
	In summary...
	<h2>Suprise! Music X Shaheen </h2>
		<img src="Shaheenspotify.jpeg">  
		<div id="buttons">
		<button id="job">
    Students for Shaheen Spotify Playlist!
</button>

<p class="data" hidden id="job2">
    https://open.spotify.com/playlist/5LL4WO2YF058emzTedmKPC?si=a61b8fdc036147e7
</p>

<script>
  	  // $("p-job") <-- this will reference all of the <p-job2> tags
   	 // $("#job") <-- this will reference all "#job2" ids
   	 // $(".data") <-- this will reference all ".data" classes
	
   	 // use jQuery to listen for a button click
   	 // toggle the hidden job message

   		 $("button#job").click(
           		 function() {
               		 $("p#job").toggle();
           	 }
       		 );
</script>
<script>
	    
$(document).ready( function() {    
        var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'
        });
	    
	var Thunderforest_Outdoors = L.tileLayer('https://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png?apikey={apikey}', {
	attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
	apikey: 'ac507f92f1f8429195ce2d6a4f7ab546',
	maxZoom: 22
   	});

        function lineSymbology(feature) {
            var name = feature.properties.pbpNAME
            var Messner =parseInt(String(feature.properties.field_2).replace(/,/g,""));
            var Shaheen = parseInt(String(feature.properties.field_3).replace(/,/g,""));
            var ODonnell = feature.properties.field_4
            var WriteIn = feature.properties.field_5
            var lineWidth = 2;
            var lineColor = "#e80c0c";
		console.log(name,Messner,Shaheen)
		if (Shaheen > Messner) { lineColor = "#1b0ce8"; lineWidth =4; }
            	
            return {
                color: lineColor,
                weight: lineWidth,
                opacity: 1
            };
            
        }
        
            var map = L.map('map', {
                center: [43.7034, -72.2887],
                zoom: 15,
            });
	
		var baseMaps = { "OSM" : OpenStreetMap_HOT,
				 "Stamen" : Thunderforest_Outdoors
		}

		L.control.layers(baseMaps).addTo(map);
		
            L.geoJson(nhSenate2020_geojson, {
                style: lineSymbology,
                onEachFeature: function (feature, layer) {
                    layer.bindPopup("<b> Name: " + feature.properties.pbpNAME + "</b>");
                }
            }).addTo(map);
  
        
});
    </script>
</body>
</html>
