<!DOCTYPE html>
<html>
<head>
    <title>Hello Campus!</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <style>
        #map { height: 450px; width: 800px; margin: auto; padding: 10px; }
        html, body { height: 100%; margin: auto; padding: 10px;}
        #buttons { padding:10px; background: #f3d1c9; }
	#font-family { calibri }
    </style>
    
    <script src="nhSenate2020.geojson"></script>
    
</head>
<body>              
    		<div><h1>Breakdown: The 2020 U.S. Senate Election in New Hampshire</h1></div>
			<h2>Why Should I Care?</h2>
			<div><ol>
				<li>Local Elections Matter! While the race for the Presidency gets most of the focus in terms of media attention, local and state-level positions can make fundamental impacts on peoples lives.</li>
				<li>New Hampshire particularly has incredibly close elections. In 2016, the Senate race was determined by 1,016 votes, and the election was partially the reason why Obamacare wasn't repealed.</li>
				<li>As a Dartmouth Student, you have the right to vote in New Hampshire! Knowing more context about your current representation is always helpful, whether you want to apply for an internship or reach out on a specific issue. </li>
			</ol></div>
			<div>Also, I am partially biased towards this race because I worked on the campaign for Shaheen! Here's a photo from when she visited my hometown during the heat of the campaign.</div> 
			<div><img src="Shaheen.jpg" style="width: auto; height: 400px;"></div>  
	<div><h2>The Race</h2></div>
			<div><img src="MessnerShaheenside.png" style="width: auto; height: 200px"></div> 
			<div> Photo of Shaheen and Messner, Obtained from WMUR. </div>
	<div><h3>Jeanne Shaheen</h3></div>
		<div><ul>
			<li> First Woman in the United States to serve as both a Governor and a United States Senator.</li>
			<li> Former teacher and campaign manager before running for State Senate, then Governor in 1996.</li>
			<li> Ran for Senate initially in 2002 and lost, was director of the Harvard Institute of Politics before running again in 2008. </li>
			<li> Senator Shaheen serves on the Appropriations and Foreign Relations Committees, and serves as a subcommittee chair in both committees. </li>
		</ul></div>
	<div><h3>Corky Messner</h3></div>
		<div><ul>
			<li>A West Point graduate and US Army Ranger, Mr. Messner served as an Infantry Company Commander prior to leaving the Army to attend the University of Denver College of Law.</li>
			<li>Founded a law firm, lived in Colorado for much of his life before moving to New Hampshire in the 2010s.</li>
			<li>Endorsed by Former President Trump in the primary election, which many believed led to his win over Fmr. General Don Boldouc. </li>
		</ul></div>
	<div><h2>The Results</h2></div>
			<table>
    		<tr>
      		  <th> <colspan="3" class="data"> Breakdown by County and Total of General Election Results </th>
   		</tr>
    		<tr>
      		 	<th>County</th>
      		  	<th>Messner</th>
      		  	<th>Shaheen </th>
		  	<th> O'Donnell </th>
    		</tr>
   		<tr>
       			 <td>Belknap</td>
       		 	 <td> 48.71% </td>
       		 	 <td> 49.16% </td>
			 <td> 2.01% </td>
   		</tr>
   		<tr>
       		 	<td> Carroll </td>
        		<td> 44.58% </td>
       			<td> 53.61% </td>
			<td> 1.75% </td>
    		</tr>
		<tr>
       			<td> Cheshire </td>
        		<td> 35.99% </td>
        		<td> 61.36% </td>
			<td> 2.51%  </td>
    		</tr>
		<tr>
       			<td> Coos </td>
        		<td> 35.99% </td>
        		<td> 53.57% </td>
			<td> 2.22%  </td>
    		</tr>
		<tr>
       			<td> Grafton </td>
        		<td> 33.89% </td>
        		<td> 63.77% </td>
			<td> 2.27%  </td>
    		</tr>
		<tr>
       			<td> Hillsborough </td>
        		<td> 40.97% </td>
        		<td> 56.51% </td>
			<td> 2.46%  </td>
    		</tr>
		<tr>
       			<td> Merrimack </td>
        		<td> 38.92% </td>
        		<td> 58.74% </td>
			<td> 2.28%  </td>
    		</tr>
		<tr>
       			<td> Rockingham </td>
        		<td> 44.14% </td>
        		<td> 53.73% </td>
			<td> 2.09%  </td>
    		</tr>
		<tr>
       			<td> Strafford </td>
        		<td> 36.31% </td>
        		<td> 60.94% </td>
			<td> 2.67%  </td>
    		</tr>
		<tr>
       			<td> Sullivan </td>
        		<td> 42.64% </td>
        		<td> 54.58% </td>
			<td> 2.74%  </td>
    		</tr>
		<tr>
       			<td> <b>Total</b></td>
        		<td><b> 40.99% </b></td>
        		<td><b> 56.64% </b></td>
			<td><b> 2.34% </b></td>
    		</tr>
</table>
    <div id="map"></div>
	<div>Data Obtained by the New Hampshire Secretary of State's Office, and NH GRANIT.</div>
	<div><h2>Key Takeaways</h2></div>
	<div><ul>
		<li> Shaheen comfortably defeated Republican nominee Bryant Messner by 15.6 points and sweeping every single county in the state.</li>
		<li> This marked the first Senate election since 1972 in which the Democrat carried Belknap County, a heavily conservative county that contains Lake Winnipesaukee.  </li>
		<li> Shaheen outperformed President Biden in New Hampshire by 8 points </li>
		<li> Her third re-election marks the first time that a Democrat has been re-elected three times in New Hampshire </li>
		<li> Shaheen effectively used her record of delivering for Granite Staters, and the questioning of Messners supposed carpetbagging, to cruise to re-election. </li>
	</ul></div>
	<div><h2>Suprise! Music X Shaheen </h2></div>
		<div><img src="Shaheenspotify.jpeg" style="width:auto; height: 300px;"></div>
		
		<div id="buttons">
		<button id="job">
    Students for Shaheen Spotify Playlist!
</button>

<p class="data" hidden id="job2">
    https://open.spotify.com/playlist/5LL4WO2YF058emzTedmKPC?si=a61b8fdc036147e7
</p>

<script>
  	 // $("p-job") <-- this will reference all of the <p-job2> tags
   	 // $("#job") <-- this will reference all "#job2" ids
   	 // $(".data") <-- this will reference all ".data" classes
	
   	 // use jQuery to listen for a button click
   	 // toggle the hidden job message

   		 $("button#job").click(
           		 function() {
               		 $("p#job").toggle();
           	 }
       		 );
</script>
<script>
	    
$(document).ready( function() {    
        var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'
        });
	    
	var Thunderforest_Outdoors = L.tileLayer('https://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png?apikey={apikey}', {
	attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
	apikey: 'ac507f92f1f8429195ce2d6a4f7ab546',
	maxZoom: 22
   	});

        function lineSymbology(feature) {
            var name = feature.properties.pbpNAME
            var Messner =parseInt(String(feature.properties.field_2).replace(/,/g,""));
            var Shaheen = parseInt(String(feature.properties.field_3).replace(/,/g,""));
            var ODonnell = feature.properties.field_4
            var WriteIn = feature.properties.field_5
            var lineWidth = 2;
            var lineColor = "#e80c0c";
		console.log(name,Messner,Shaheen)
		if (Shaheen > Messner) { lineColor = "#1b0ce8"; lineWidth =4; }
            	
            return {
                color: lineColor,
                weight: lineWidth,
                opacity: 1
            };
            
        }

		var baseMaps = { "OSM" : OpenStreetMap_HOT,
				 "Stamen" : Thunderforest_Outdoors
		}


		
		var map = L.map('map', {
			center: [44.2977, -71.5428],
			zoom: 7,
			layers: [OpenStreetMap_HOT]
		});
	

		L.control.layers(baseMaps).addTo(map);
		
            L.geoJson(nhSenate2020_geojson, {
                style: lineSymbology,
                onEachFeature: function (feature, layer) {
                    layer.bindPopup("<b> Name: " + feature.properties.pbpNAME + "</b><br>" + 
                    "Shaheen Vote Total: " +
                     feature.properties.field_3 + "<br>" + "Messner Vote Total: " + feature.properties.field_2);
                }
            }).addTo(map);
  
        
});
    </script>
</body>
</html>
